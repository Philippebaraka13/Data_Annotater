{% extends "annotater/base.html" %}
{% block content %}

<h2>Retail Data Table</h2>
<p class="text-muted">Review and annotate retail records.</p>

<div class="table-responsive">
<table class="table table-bordered table-hover align-middle">
  <thead class="table-dark">
    <tr>
      <th>Merchant</th>
      <th>SKU</th>
      <th>Country</th>
      <th>Retailer</th>
      <th>Segment</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    {% for r in rows %}
    <tr class="{% if r.segment %}table-success{% endif %}">
      <td>{{ r.merchant }}</td>
      <td>{{ r.sku }}</td>
      <td>{{ r.country }}</td>
      <td>{{ r.retailer|default:"â€”" }}</td>
      <td>
        {% if r.segment %}
          <span class="badge bg-success">{{ r.segment }}</span>
        {% else %}
          <span class="badge bg-warning text-dark">Pending</span>
        {% endif %}
      </td>
      <td>
        <a href="{% url 'annotater:edit_row' r.id %}" class="btn btn-sm btn-primary">
          Edit
        </a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
</div>

{% endblock %}
